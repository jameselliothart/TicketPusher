@page "/projects"

@using TicketPusher.Server.Utils
@inherits ProjectsBase
@attribute [Authorize]

<TableTemplate Items="EditableProjects" Context="project">
    <TableHeader>
        <th>
            <EditProject OnSubmitProject="RefreshData" Projects="Entities" >
                <Button>
                    <MatIcon>
                        <i title="New" class="oi oi-plus"></i>
                    </MatIcon>
                </Button>
            </EditProject>
        </th>
        <th>Id</th>
        <th>Name</th>
        <th>Hierarchy</th>
    </TableHeader>
    <RowTemplate>
        <UpdateProject Projects="@Entities" Project="@project" OnSubmitProject="RefreshData">
            <Button>
                <MatIcon>
                    <i title="Edit" class="oi oi-pencil" ></i>
                </MatIcon>
            </Button>
        </UpdateProject>
        <td title="@project.Id">@project.Id.ToShortGuid()</td>
        <td>@project.Name</td>
        <td>@project.Hierarchy</td>
    </RowTemplate>
</TableTemplate>
